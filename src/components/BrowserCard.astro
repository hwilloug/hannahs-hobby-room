---
interface Props {
  title: string;
  image: string;
  url: string;
  subtitle?: string;
  showSubtitle?: boolean;
  subcategories?: string[];
}

const { title, image, url, subtitle, showSubtitle = false, subcategories = [] } = Astro.props;
---

<a href={url} class="browser-window">
  <div class="browser-header">
    <div class="browser-actions">
      <span class="browser-action"></span>
      <span class="browser-action"></span>
      <span class="browser-action"></span>
    </div>
    <div class="browser-address">{title}</div>
  </div>
  <div class="browser-content">
    <img src={image} alt="" />
    <h3>{title}</h3>
    {showSubtitle && <p>{subtitle}</p>}
    {subcategories.length > 0 && <p>Subcategories: {subcategories.join(', ')}</p>}
  </div>
</a>

<style>
  .browser-window {
    flex: 0 0 300px;
    background: var(--secondary-light);
    border: 1px solid var(--secondary-dark);
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    text-decoration: none;
    color: inherit;
    scroll-snap-align: start;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .browser-window:hover {
    transform: translateY(-4px);
    box-shadow: 8px 8px var(--secondary-dark);
  }

  .browser-header {
    background: var(--secondary-main);
    padding: 8px;
    border-bottom: 1px solid var(--secondary-dark);
    border-radius: 8px 8px 0 0;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .browser-actions {
    display: flex;
    gap: 6px;
  }

  .browser-action {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #ddd;
  }

  .browser-action:nth-child(1) { background: #ff5f57; }
  .browser-action:nth-child(2) { background: #ffbd2e; }
  .browser-action:nth-child(3) { background: #28c940; }

  .browser-address {
    background: var(--secondary-light);
    border-radius: 4px;
    padding: 4px 8px;
    font-size: 0.8em;
    color: var(--primary-dark);
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .browser-content {
    padding: 1em;
  }

  .browser-content img {
    width: 100%;
    height: 150px;
    object-fit: cover;
    margin-bottom: 1em;
    border: 1px solid var(--secondary-dark);
    border-radius: 8px;
  }

  .browser-content h3 {
    font-size: 1.1em;
    margin: 0;
    font-family: 'Gluten', sans-serif;
    color: var(--primary-dark);
    text-shadow: none;
  }

  @media (max-width: 720px) {
    .browser-window {
      flex: 0 0 250px;
    }
  }
</style>