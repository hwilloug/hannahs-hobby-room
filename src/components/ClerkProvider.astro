---
---

<script>
  import Clerk from '@clerk/clerk-js';

  // Initialize Clerk with your publishable key
  const clerk = new Clerk(import.meta.env.PUBLIC_CLERK_PUBLISHABLE_KEY);
  await clerk.load();

  window.Clerk = clerk;

  // Handle sign in
  clerk.addListener(({ user }) => {
    if (user) {
      // User signed in
      const token = clerk.session?.getToken();
      // Add token to subsequent requests
      if (token) {
        window.localStorage.setItem('clerk-token', token);
      }
    } else {
      // User signed out
      window.localStorage.removeItem('clerk-token');
    }
  });
</script>

<div id="clerk-root"></div>